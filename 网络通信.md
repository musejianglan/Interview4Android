# 三、网络
网络七层：物 数 网 传 会 表 应
## 3.1.物理层协议
## 3.2.数据链路层协议
## 3.3.网络层协议
## 3.4.传输层协议
### 3.4.1.tcp/udp协议：传输控制协议，对应于传输层，主要解决数据在网络中的传输

### 3.4.2.Socket连接

#### a.TCP 三次握手：
握手过程中并不传输数据，在握手后服务器与客户端才开始传输数据，理想状态下，TCP 连接一旦建立，在通讯双方中的任何一方主动断开连接之前 TCP 连接会一直保持下去。

Socket 是对 TCP/IP 协议的封装，Socket 只是个接口不是协议，通过 Socket 我们才能使用 TCP/IP 协议，除了 TCP，也可以使用 UDP 协议来传递数据。

创建 Socket 连接的时候，可以指定传输层协议，可以是 TCP 或者 UDP，当用 TCP 连接，该Socket就是个TCP连接，反之。

#### b.Socket 原理

Socket 连接,至少需要一对套接字，分为 clientSocket，serverSocket 连接分为3个步骤:

(1) 服务器监听:服务器并不定位具体客户端的套接字，而是时刻处于监听状态；

(2) 客户端请求:客户端的套接字要描述它要连接的服务器的套接字，提供地址和端口号，然后向服务器套接字提出连接请求；

(3) 连接确认:当服务器套接字收到客户端套接字发来的请求后，就响应客户端套接字的请求,并建立一个新的线程,把服务器端的套接字的描述发给客户端。一旦客户端确认了此描述，就正式建立连接。而服务器套接字继续处于监听状态，继续接收其他客户端套接字的连接请求.

#### c.Socket为长连接：
通常情况下Socket 连接就是 TCP 连接，因此 Socket 连接一旦建立,通讯双方开始互发数据内容，直到双方断开连接。在实际应用中，由于网络节点过多，在传输过程中，会被节点断开连接，因此要通过轮询高速网络，该节点处于活跃状态。

### 3.4.3.socket
Socket又称套接字，在程序内部提供了与外界通信的端口，即端口通信、通过建立socket连接，可为通信双方的数据chuanshu提供通道。socket的主要特点是数据丢失率低，使用简单且易于移植。


### 3.4.4.socket
Socket又称套接字，在程序内部提供了与外界通信的端口，即端口通信、通过建立socket连接，可为通信双方的数据chuanshu提供通道。socket的主要特点是数据丢失率低，使用简单且易于移植。
#### a.socket分类
* 基于TCP协议的流套接字（streamsocket）
* 基于UDP协议的数据报套接字（datagramsocket）

## 3.5.会话层协议
## 3.6.表示层协议
## 3.7.应用层协议
### 3.7.1.http协议：超文本传输协议，对应于应用层，用于如何封装数据
http为短连接：客户端发送请求都是需要服务端回送响应，请求结束后，主动释放链接，因此为短连接。  

HTTP连接使用的是"请求-响应"方式，不仅在请求时建立连接，而且客户端向服务器端请求后，服务器才返回数据。
